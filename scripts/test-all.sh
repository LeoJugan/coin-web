#!/bin/bash

echo "開始執行完整測試套件..."

echo ""
echo "========================================"
echo "1. 執行單元測試"
echo "========================================"
npm run test:unit:coverage
if [ $? -ne 0 ]; then
    echo "單元測試失敗！"
    exit 1
fi

echo ""
echo "========================================"
echo "2. 執行整合測試"
echo "========================================"
npm run test:integration
if [ $? -ne 0 ]; then
    echo "整合測試失敗！"
    exit 1
fi

echo ""
echo "========================================"
echo "3. 執行 E2E 測試"
echo "========================================"
npm run test:e2e
if [ $? -ne 0 ]; then
    echo "E2E 測試失敗！"
    exit 1
fi

echo ""
echo "========================================"
echo "4. 執行程式碼檢查"
echo "========================================"
npm run lint
if [ $? -ne 0 ]; then
    echo "程式碼檢查失敗！"
    exit 1
fi

echo ""
echo "========================================"
echo "5. 執行類型檢查"
echo "========================================"
npm run type-check
if [ $? -ne 0 ]; then
    echo "類型檢查失敗！"
    exit 1
fi

echo ""
echo "========================================"
echo "所有測試通過！"
echo "========================================"



